{% extends 'base/web-base.html' %}

{% load static %}

{% block container %}

{% include 'includes/header.html' %}

        <section class="wrapper pt-44 p-10"> 
            <div class="flex flex-col lg:flex-row justify-between items-center">
            <div class="flex flex-wrap justify-center lg:justify-start items-center gap-4 lg:gap-10">
                {% for category in categories %}
                <a href="#" class="flex flex-col items-center transition-transform duration-300 hover:scale-110">
                    <img
                    class="w-[75px] h-[75px] sm:w-[120px] sm:h-[90px] md:w-[130px] md:h-[95px] lg:w-[150px] lg:h-[100px] rounded-xl"
                    src="{{ category.image.url }}"
                    alt="images"
                    />
                    <h1
                    class="text-[18px] sm:text-[22px] md:text-[26px] lg:text-[30px] font-bold text-[#434242] transition-transform duration-300 hover:scale-110 hover:text-[#000] mt-2"
                    >
                    {{ category.name }}
                    </h1>
                </a>
                {% endfor %}
            </div>
            <h3
                class="text-[20px] sm:text-[24px] md:text-[28px] lg:text-[30px] text-[#e93a3a] font-medium mt-6 lg:mt-0 text-center lg:text-right"
            >
                Book Flights, Trains & Buses
            </h3>
            </div>
            
            <h1 class="text-[30px] mt-6 font-bold text-black">Why Book With Yatra?</h1>
            <section class=" py-10 wrapper">
                <section class=" swiper mySwiper">
                    <div class="swiper-wrapper">
                        {% for slider in sliders %}
                        <div class="swiper-slide">
                            <a href="#">
                                <img src="{{slider.image.url}}" alt="image" class=" w-full rounded-2xl">
                            </a>
                        </div>
                        {% endfor %}
                    </div>
                </section>
            <div>
                <div class="border bg-white p-5 sm:p-8 lg:p-10 mt-5 rounded-xl">
                <form action="">
                    <ul class="flex flex-col sm:flex-row items-center justify-center gap-4 lg:gap-3">
                    <input 
                        class="py-4 px-10 sm:py-6 sm:px-20 border border-gray-300 rounded-xl bg-[#edebeb] hover:bg-[#e0dede] w-full sm:w-auto"
                        type="text" 
                        name="name" 
                        placeholder="From" 
                    />
                    <input 
                        class="py-4 px-10 sm:py-6 sm:px-20 border border-gray-300 rounded-xl bg-[#edebeb] hover:bg-[#e0dede] w-full sm:w-auto"
                        type="text" 
                        name="name" 
                        placeholder="To" 
                    />
                    <input 
                        class="py-4 px-10 sm:py-6 sm:px-20 border border-gray-300 rounded-xl bg-[#edebeb] hover:bg-[#e0dede] w-full sm:w-auto" 
                        type="date" 
                        name="Date" 
                        required
                    />

        
                    <button 
                        type="submit" 
                        class="py-4 px-10 sm:py-6 sm:px-20 text-white text-[18px] sm:text-[24px] transition-transform duration-300 hover:scale-100 font-medium rounded-xl bg-[#6786ee] hover:bg-[#4f72e7] w-full sm:w-auto"
                    >
                        Search
                    </button>
                    </ul>
                    </div>
                    
                </form>
                </div>
                
            <div>
            </section>
            </div>
        
            <div class="flex flex-wrap md:flex-nowrap mt-10 items-start">
                <div class="w-full md:w-1/3 mb-10 md:mb-0">
                <div class="bg-white p-10 md:p-20 shadow-lg rounded-lg">
                    <ul class="flex justify-center mb-6">
                    <img class=" w-18 h-18 sm:w-24 sm:h-24" src="{% static 'web/images/bus5.png' %}" alt="logo">
                    <img class=" w-18 h-18 sm:w-24 sm:h-24 ml-5" src="{% static 'web/images/bus4.png' %}" alt="logo">
                    <img class=" w-18 h-18 sm:w-24 sm:h-24 ml-5" src="{% static 'web/images/bus1.png' %}" alt="logo">
                    </ul>
                    <h1 class="text-lg md:text-2xl lg:text-3xl text-red-500 font-bold mb-6">Filter by</h1>
                    <hr class="border-2 mb-4 border-gray-900">
                    <form action="#" method="get">
                    <div class="mb-6">
                        <h3 class="text-sm md:text-lg font-semibold mb-3">Buses</h3>
                        <select name="category" class="border border-gray-300 rounded-lg p-2 w-full">
                        <option value="all" {% if selected_bus == 'all' %}selected{% endif %}>All buss</option>
                        {% for bus in buses %}
                        <option value="{{ bus.name }}" {% if selected_bus == bus.name %}selected{% endif %}>
                            {{ bus.name }}
                        </option>
                        {% endfor %}
                        </select>
                        
                    </div>
            
                    <div class="mb-6">
                        <h3 class="text-sm md:text-lg font-semibold mb-3">Stops</h3>
                        <select name="Stop" id="Stop" class="border border-gray-300 rounded-lg p-2 w-full">
                        <option value="">All Stops</option>
                        <option value="Non Stop" id="stope1">Non Stop</option>
                        <option value="one Stop" id="stope2">one Stop</option>
                        <option value="Limited Stop" id="stope3">Limited Stop</option>
                        </select>
                    </div>
            
                    <div class="mb-6">
                        <h3 class="text-sm md:text-lg font-semibold mb-3">Price</h3>
                        <select name="price" id="price" class="border border-gray-300 px-3 py-2 rounded-lg w-full">
                        <option value="">Select a price range</option>
                        <option value="500-20000" id="price2">500-20000</option>
                        <option value="500-1000" id="price2">500-1000</option>
                        <option value="1000-2000" id="price3">1000-2000</option>
                        <option value="2000-4000" id="price4">2000-4000</option>
                        <option value="4000-6000" id="price5">4000-6000</option>
                        <option value="6000-8000" id="price6">6000-8000</option>
                        <option value="8000-10000" id="price7">8000-10000</option>
                        <option value="10000-20000" id="price8">10000-20000</option>
                    </select>
                    </div>
            
                    <div class="mt-6">
                        <button type="submit" class="text-sm md:text-base font-medium bg-blue-600 text-white px-5 py-2 rounded-xl w-full hover:bg-blue-700 transition duration-300">Apply Filter</button>
                    </div>
                    </form>
                    <ul class="flex justify-center mt-7">
                    <img class=" w-18 h-18 sm:w-24 sm:h-24" src="{% static 'web/images/bus5.png' %}" alt="logo">
                    <img class=" w-18 h-18 sm:w-24 sm:h-24 ml-5" src="{% static 'web/images/bus2.png' %}" alt="logo">
                    <img class=" w-18 h-18 sm:w-24 sm:h-24 ml-5" src="{% static 'web/images/bus3.png' %}" alt="logo">
                    </ul>
                </div>
                </div>
            
                <div class="w-full md:w-2/3 md:ml-10">
                <h1 class="text-lg md:text-xl font-semibold text-black mb-5">Short By</h1>
                <form action="" method="get">
                    <div class="flex  justify-between overflow-x-auto whitespace-nowrap space-x-4 items-center bg-white rounded-2xl p-5">
                    <a href="?sort=default" class="text-center w-1/4">
                        <button type="button" class="text-base font-medium text-gray-400 hover:text-red-500 hover:scale-110 transition-transform duration-300">Default</button>
                    </a>
                    <a href="?sort=Faster" class="text-center w-1/4">
                        <button type="button" class="text-base font-medium text-gray-400 hover:text-red-500 hover:scale-110 transition-transform duration-300">Faster</button>
                    </a>
                    <a href="?sort=high-low" class="text-center w-1/4">
                        <button type="button" class="text-base font-medium text-gray-400 hover:text-red-500 hover:scale-110 transition-transform duration-300">High-Low</button>
                    </a>
                    <a href="?sort=low-high" class="text-center w-1/4">
                        <button type="button" class="text-base font-medium text-gray-400 hover:text-red-500 hover:scale-110 transition-transform duration-300">Low-High</button>
                    </a>
                    </div>
                </form>
            
                {% for bus in bus %}
                    <div class="border bg-white px-5 md:px-20 py-5 md:py-10 mt-5 rounded-2xl">
                    <div class="flex flex-wrap justify-between items-center">
                        <img class="w-[100px] h-[100px]" src="{{ bus.image.url }}" alt="Logo">
                        <ul class="ml-14">
                        <h1 class="text-[#000] text-[20px] font-semibold">{{ bus.Buses }}</h1>
                        <h2 class="text-[16px] font-medium text-gray-400">{{ bus.bus_numbers }}</h2>
                        </ul>
                        <ul class="ml-14">
                        <h3 class="text-[20px] font-semibold text-black">{{ bus.departure_time|date:"H:i" }}</h3>
                        <h5 class="text-[16px] font-medium text-gray-400">{{ bus.departure_code }}</h5>
                        </ul>
                        <ul class="ml-14">
                        <span class="text-[16px] font-medium text-gray-400">
                            {{ bus.duration }}
                        </span>
                        <div class="border-b-2 border-gray-500 w-14"></div>
                        <h3 class="text-[16px] font-medium text-gray-400">{{ bus.stops }}</h3>
                        </ul>
                        <ul class="ml-14">
                        <span class="text-[20px] font-semibold text-black">{{ bus.arrival_time|date:"H:i" }}</span>
                        <p class="text-[16px] font-medium text-[#ff2a2a]">{{ bus.arrival_code }}</p>
                        </ul>
                        <ul class="ml-14">
                        <h1 class="text-[#000] text-[20px] font-semibold">₹{{ bus.price }}</h1>
                        {% if bus.discount %}
                        <h2 class="text-[16px] font-medium text-orange-400">Extra ₹{{ bus.discount}} Off</h2>
                        {% endif %}
                        </ul>
                        <div class="transition-transform bg-orange-400 duration-300 ml-14 hover:scale-110 hover:bg-orange-500 border px-6 py-4 rounded-2xl">
                            <a href="{% url 'web:bus-books' id=bus.id %}" class=" block text-[30px] font-semibold text-white">Book</a>
                        </div>
                    </div>
                    </div>
                {% endfor %}
                </div>
            </div>

            <div class=" mt-6 flex overflow-hidden  overflow-x-scroll scroll-smooth  smooth-scroll ">
                <img class="ml-10 w-[410px] rounded-3xl h-[200px]" src="{% static 'web/images/offer1.png' %}" alt="images">
                <img class="ml-10 w-[410px] rounded-3xl h-[200px]" src="{% static 'web/images/offer2.png' %}" alt="images">
                <img class="ml-10 w-[410px] rounded-3xl h-[200px]" src="{% static 'web/images/offer4.png' %}" alt="images">
                <img class="ml-10 w-[410px] rounded-3xl h-[200px]" src="{% static 'web/images/offer3.png' %}" alt="images">
                <img class="ml-10 w-[410px] rounded-3xl h-[200px]" src="{% static 'web/images/offers.png' %}" alt="images">
                <img class="ml-10 w-[410px] rounded-3xl h-[200px]" src="{% static 'web/images/offer5.png' %}" alt="images">
          
              </div>
            
        </section>
  
  
        <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
        <script src="./js/jquery-3.7.1.min.js"></script>
        <script src="./js/index.js"></script>
  
       <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
  
       <script>
           var swiper = new Swiper(".mySwiper", {
           spaceBetween: 30,
           centeredSlides: true,
           autoplay: {
               delay: 2500,
               disableOnInteraction: false,
           },
           breakpoints: {
               499: {
                   slidesPerView: 1,
                   spaceBetweenSlides: 30
               },
               999: {
                   slidesPerView: 3,
                   spaceBetweenSlides: 40
               }
           },
           pagination: {
               el: ".swiper-pagination",
               clickable: true,
           },
           navigation: {
               nextEl: ".swiper-button-next",
               prevEl: ".swiper-button-prev",
           },
           });
       </script>
       <script>
        const searchBar = document.getElementById('search-bar');
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
    
        const profileMenuButton = document.getElementById('profile-menu-button');
        const profileMenu = document.getElementById('profile-menu');
    
    
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });
        profileMenuButton.addEventListener('click', () => {
            profileMenu.classList.toggle('hidden');
        });
    
    
  
    </script>

{% endblock %}